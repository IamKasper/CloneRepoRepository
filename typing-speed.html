<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Speed Test</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        nav {
            background: rgba(0, 0, 0, 0.2);
            padding: 1rem 0;
            backdrop-filter: blur(10px);
        }

        nav .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-weight: bold;
        }

        .game-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .game-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            max-width: 800px;
            width: 100%;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        h2 {
            color: #667eea;
            margin-bottom: 1rem;
            text-align: center;
        }

        .stats-bar {
            display: flex;
            justify-content: space-around;
            margin: 1rem 0;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .stat {
            text-align: center;
        }

        .stat-label {
            color: #666;
            font-size: 0.9rem;
        }

        .stat-value {
            color: #667eea;
            font-size: 1.8rem;
            font-weight: bold;
        }

        #textDisplay {
            font-size: 1.3rem;
            line-height: 1.8;
            padding: 1.5rem;
            background: #f8f9fa;
            border-radius: 10px;
            margin: 1rem 0;
            min-height: 150px;
        }

        .char {
            color: #666;
        }

        .char.correct {
            color: #2ecc71;
        }

        .char.incorrect {
            color: #e74c3c;
            background: #ffebee;
        }

        .char.current {
            background: #667eea;
            color: white;
        }

        #typingInput {
            width: 100%;
            padding: 1rem;
            font-size: 1.2rem;
            border: 2px solid #667eea;
            border-radius: 10px;
            margin: 1rem 0;
        }

        #typingInput:focus {
            outline: none;
            border-color: #764ba2;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            cursor: pointer;
            font-weight: bold;
            width: 100%;
            transition: transform 0.3s;
        }

        .btn:hover {
            transform: scale(1.02);
        }

        @media (max-width: 768px) {
            #textDisplay {
                font-size: 1.1rem;
            }
            .stats-bar {
                flex-direction: column;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <nav>
        <div class="container">
            <a href="index.html">‚Üê Back to Games</a>
            <a href="index.html">üß† BenchmarkGames</a>
        </div>
    </nav>

    <div class="game-container">
        <div class="game-card">
            <h2>Typing Speed Test</h2>

            <div class="stats-bar">
                <div class="stat">
                    <div class="stat-label">WPM</div>
                    <div class="stat-value" id="wpm">0</div>
                </div>
                <div class="stat">
                    <div class="stat-label">Accuracy</div>
                    <div class="stat-value" id="accuracy">100%</div>
                </div>
                <div class="stat">
                    <div class="stat-label">Time</div>
                    <div class="stat-value" id="timer">60</div>
                </div>
            </div>

            <div id="textDisplay"></div>
            <input type="text" id="typingInput" placeholder="Click here to start typing..." disabled>
            <button class="btn" onclick="startTest()">Start Test</button>
        </div>
    </div>

    <script>
        const texts = [
            "The quick brown fox jumps over the lazy dog. Pack my box with five dozen liquor jugs. How vexingly quick daft zebras jump. The five boxing wizards jump quickly.",
            "In the heart of the forest, ancient trees stood tall and proud. Their branches reached toward the sky, creating a canopy that filtered the sunlight into dancing patterns on the forest floor.",
            "Technology continues to advance at an unprecedented pace. Innovation drives progress in every field, from medicine to communication. The future holds endless possibilities for those willing to explore.",
            "Music has the power to move us in ways that words alone cannot. It transcends language barriers and connects people across cultures. Every note carries emotion and meaning."
        ];

        let currentText = '';
        let startTime;
        let timerInterval;
        let timeLeft = 60;
        let correctChars = 0;
        let totalChars = 0;

        const textDisplay = document.getElementById('textDisplay');
        const typingInput = document.getElementById('typingInput');
        const wpmDisplay = document.getElementById('wpm');
        const accuracyDisplay = document.getElementById('accuracy');
        const timerDisplay = document.getElementById('timer');

        function startTest() {
            currentText = texts[Math.floor(Math.random() * texts.length)];
            displayText();

            typingInput.value = '';
            typingInput.disabled = false;
            typingInput.focus();

            timeLeft = 60;
            correctChars = 0;
            totalChars = 0;
            startTime = Date.now();

            timerInterval = setInterval(() => {
                timeLeft--;
                timerDisplay.textContent = timeLeft;
                updateWPM();

                if (timeLeft <= 0) {
                    endTest();
                }
            }, 1000);
        }

        function displayText() {
            textDisplay.innerHTML = currentText.split('').map((char, i) =>
                `<span class="char" data-index="${i}">${char}</span>`
            ).join('');
        }

        typingInput.addEventListener('input', (e) => {
            const typed = e.target.value;
            const chars = textDisplay.querySelectorAll('.char');

            chars.forEach((char, i) => {
                char.classList.remove('correct', 'incorrect', 'current');

                if (i < typed.length) {
                    if (typed[i] === currentText[i]) {
                        char.classList.add('correct');
                    } else {
                        char.classList.add('incorrect');
                    }
                } else if (i === typed.length) {
                    char.classList.add('current');
                }
            });

            calculateAccuracy(typed);

            if (typed === currentText) {
                endTest();
            }
        });

        function calculateAccuracy(typed) {
            correctChars = 0;
            totalChars = typed.length;

            for (let i = 0; i < typed.length; i++) {
                if (typed[i] === currentText[i]) {
                    correctChars++;
                }
            }

            const accuracy = totalChars > 0 ? Math.round((correctChars / totalChars) * 100) : 100;
            accuracyDisplay.textContent = accuracy + '%';
        }

        function updateWPM() {
            const timeElapsed = (Date.now() - startTime) / 1000 / 60;
            const wordsTyped = correctChars / 5;
            const wpm = Math.round(wordsTyped / timeElapsed);
            wpmDisplay.textContent = wpm;
        }

        function endTest() {
            clearInterval(timerInterval);
            typingInput.disabled = true;
            updateWPM();
            alert(`Test Complete!\nWPM: ${wpmDisplay.textContent}\nAccuracy: ${accuracyDisplay.textContent}`);
        }
    </script>
</body>
</html>
